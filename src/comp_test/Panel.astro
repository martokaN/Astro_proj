---
// src/components/SideMenu.astro
---

<div class="relative">
    <!-- Menu Button -->
    <button
      id="menuButton"
      class="fixed top-4 right-4 p-2 bg-slate-800 text-white rounded-md hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-slate-500 z-30"
      aria-label="Toggle menu"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  
    <!-- Overlay (appears when menu is open) -->
    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-20 hidden transition-opacity duration-300 ease-in-out"></div>
  
    <!-- Side Menu Panel -->
    <div id="sideMenu" class="fixed top-0 right-0 w-64 h-full bg-white shadow-lg transform translate-x-full transition-transform duration-300 ease-in-out z-30">
      <div class="p-4">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-xl font-bold text-slate-800">Menu</h2>
          <button id="closeButton" class="text-slate-500 hover:text-slate-700 focus:outline-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
        
        <nav>
          <ul class="space-y-2">
            <li>
              <a href="/" class="block px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-md">Home</a>
            </li>
            <li>
              <a href="/about" class="block px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-md">About</a>
            </li>
            <li>
              <a href="/services" class="block px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-md">Services</a>
            </li>
            <li>
              <a href="/contact" class="block px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-md">Contact</a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
  
  <script>
    // Get DOM elements
    const menuButton = document.getElementById('menuButton');
    const closeButton = document.getElementById('closeButton');
    const sideMenu = document.getElementById('sideMenu');
    const overlay = document.getElementById('overlay');
  
    // Function to open menu
    function openMenu() {
      sideMenu.classList.remove('translate-x-full');
      overlay.classList.remove('hidden');
      document.body.classList.add('overflow-hidden'); // Prevent scrolling when menu is open
    }
  
    // Function to close menu
    function closeMenu() {
      sideMenu.classList.add('translate-x-full');
      overlay.classList.add('hidden');
      document.body.classList.remove('overflow-hidden');
    }
  
    // Event listeners
    menuButton?.addEventListener('click', openMenu);
    closeButton?.addEventListener('click', closeMenu);
    overlay?.addEventListener('click', closeMenu);
  
    // Close menu when pressing escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeMenu();
    });
  </script>